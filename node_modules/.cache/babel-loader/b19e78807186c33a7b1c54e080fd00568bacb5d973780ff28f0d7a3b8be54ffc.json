{"ast":null,"code":"const API_KEY=\"61e36d8b6d0a171b685c5658b023c23a\";// <-- твой рабочий ключ OpenWeather!\nexport async function fetchWeather(query){let url='';if(typeof query==='string'){url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(encodeURIComponent(query),\"&appid=\").concat(API_KEY,\"&lang=ru&units=metric\");}else if(typeof query==='object'&&query.lat&&query.lon){url=\"https://api.openweathermap.org/data/2.5/weather?lat=\".concat(query.lat,\"&lon=\").concat(query.lon,\"&appid=\").concat(API_KEY,\"&lang=ru&units=metric\");}else{throw new Error('Некорректный запрос');}const res=await fetch(url);if(!res.ok)throw new Error('Город не найден или ошибка координат');return await res.json();}export async function fetchForecast(query){let url='';if(typeof query==='string'){url=\"https://api.openweathermap.org/data/2.5/forecast?q=\".concat(encodeURIComponent(query),\"&appid=\").concat(API_KEY,\"&lang=ru&units=metric\");}else if(typeof query==='object'&&query.lat&&query.lon){url=\"https://api.openweathermap.org/data/2.5/forecast?lat=\".concat(query.lat,\"&lon=\").concat(query.lon,\"&appid=\").concat(API_KEY,\"&lang=ru&units=metric\");}else{throw new Error('Некорректный запрос');}const res=await fetch(url);if(!res.ok)throw new Error('Не удалось получить прогноз');return await res.json();}","map":{"version":3,"names":["API_KEY","fetchWeather","query","url","concat","encodeURIComponent","lat","lon","Error","res","fetch","ok","json","fetchForecast"],"sources":["C:/TRAIN/EASYWEATHER/weather-telegram-miniapp/src/weatherApi.js"],"sourcesContent":["const API_KEY = \"61e36d8b6d0a171b685c5658b023c23a\"; // <-- твой рабочий ключ OpenWeather!\r\n\r\nexport async function fetchWeather(query) {\r\n  let url = '';\r\n  if (typeof query === 'string') {\r\n    url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(query)}&appid=${API_KEY}&lang=ru&units=metric`;\r\n  } else if (typeof query === 'object' && query.lat && query.lon) {\r\n    url = `https://api.openweathermap.org/data/2.5/weather?lat=${query.lat}&lon=${query.lon}&appid=${API_KEY}&lang=ru&units=metric`;\r\n  } else {\r\n    throw new Error('Некорректный запрос');\r\n  }\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error('Город не найден или ошибка координат');\r\n  return await res.json();\r\n}\r\n\r\nexport async function fetchForecast(query) {\r\n  let url = '';\r\n  if (typeof query === 'string') {\r\n    url = `https://api.openweathermap.org/data/2.5/forecast?q=${encodeURIComponent(query)}&appid=${API_KEY}&lang=ru&units=metric`;\r\n  } else if (typeof query === 'object' && query.lat && query.lon) {\r\n    url = `https://api.openweathermap.org/data/2.5/forecast?lat=${query.lat}&lon=${query.lon}&appid=${API_KEY}&lang=ru&units=metric`;\r\n  } else {\r\n    throw new Error('Некорректный запрос');\r\n  }\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error('Не удалось получить прогноз');\r\n  return await res.json();\r\n}\r\n"],"mappings":"AAAA,KAAM,CAAAA,OAAO,CAAG,kCAAkC,CAAE;AAEpD,MAAO,eAAe,CAAAC,YAAYA,CAACC,KAAK,CAAE,CACxC,GAAI,CAAAC,GAAG,CAAG,EAAE,CACZ,GAAI,MAAO,CAAAD,KAAK,GAAK,QAAQ,CAAE,CAC7BC,GAAG,sDAAAC,MAAA,CAAwDC,kBAAkB,CAACH,KAAK,CAAC,YAAAE,MAAA,CAAUJ,OAAO,yBAAuB,CAC9H,CAAC,IAAM,IAAI,MAAO,CAAAE,KAAK,GAAK,QAAQ,EAAIA,KAAK,CAACI,GAAG,EAAIJ,KAAK,CAACK,GAAG,CAAE,CAC9DJ,GAAG,wDAAAC,MAAA,CAA0DF,KAAK,CAACI,GAAG,UAAAF,MAAA,CAAQF,KAAK,CAACK,GAAG,YAAAH,MAAA,CAAUJ,OAAO,yBAAuB,CACjI,CAAC,IAAM,CACL,KAAM,IAAI,CAAAQ,KAAK,CAAC,qBAAqB,CAAC,CACxC,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACP,GAAG,CAAC,CAC5B,GAAI,CAACM,GAAG,CAACE,EAAE,CAAE,KAAM,IAAI,CAAAH,KAAK,CAAC,sCAAsC,CAAC,CACpE,MAAO,MAAM,CAAAC,GAAG,CAACG,IAAI,CAAC,CAAC,CACzB,CAEA,MAAO,eAAe,CAAAC,aAAaA,CAACX,KAAK,CAAE,CACzC,GAAI,CAAAC,GAAG,CAAG,EAAE,CACZ,GAAI,MAAO,CAAAD,KAAK,GAAK,QAAQ,CAAE,CAC7BC,GAAG,uDAAAC,MAAA,CAAyDC,kBAAkB,CAACH,KAAK,CAAC,YAAAE,MAAA,CAAUJ,OAAO,yBAAuB,CAC/H,CAAC,IAAM,IAAI,MAAO,CAAAE,KAAK,GAAK,QAAQ,EAAIA,KAAK,CAACI,GAAG,EAAIJ,KAAK,CAACK,GAAG,CAAE,CAC9DJ,GAAG,yDAAAC,MAAA,CAA2DF,KAAK,CAACI,GAAG,UAAAF,MAAA,CAAQF,KAAK,CAACK,GAAG,YAAAH,MAAA,CAAUJ,OAAO,yBAAuB,CAClI,CAAC,IAAM,CACL,KAAM,IAAI,CAAAQ,KAAK,CAAC,qBAAqB,CAAC,CACxC,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACP,GAAG,CAAC,CAC5B,GAAI,CAACM,GAAG,CAACE,EAAE,CAAE,KAAM,IAAI,CAAAH,KAAK,CAAC,6BAA6B,CAAC,CAC3D,MAAO,MAAM,CAAAC,GAAG,CAACG,IAAI,CAAC,CAAC,CACzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}