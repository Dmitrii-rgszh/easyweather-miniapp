{"ast":null,"code":"const API_KEY = \"61e36d8b6d0a171b685c5658b023c23a\"; // <-- твой рабочий ключ OpenWeather!\n\nexport async function fetchWeather(query) {\n  let url = '';\n  if (typeof query === 'string') {\n    url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(query)}&appid=${API_KEY}&lang=ru&units=metric`;\n  } else if (typeof query === 'object' && query.lat && query.lon) {\n    url = `https://api.openweathermap.org/data/2.5/weather?lat=${query.lat}&lon=${query.lon}&appid=${API_KEY}&lang=ru&units=metric`;\n  } else {\n    throw new Error('Некорректный запрос');\n  }\n  const res = await fetch(url);\n  if (!res.ok) throw new Error('Город не найден или ошибка координат');\n  return await res.json();\n}\nexport async function fetchForecast(query) {\n  let url = '';\n  if (typeof query === 'string') {\n    url = `https://api.openweathermap.org/data/2.5/forecast?q=${encodeURIComponent(query)}&appid=${API_KEY}&lang=ru&units=metric`;\n  } else if (typeof query === 'object' && query.lat && query.lon) {\n    url = `https://api.openweathermap.org/data/2.5/forecast?lat=${query.lat}&lon=${query.lon}&appid=${API_KEY}&lang=ru&units=metric`;\n  } else {\n    throw new Error('Некорректный запрос');\n  }\n  const res = await fetch(url);\n  if (!res.ok) throw new Error('Не удалось получить прогноз');\n  return await res.json();\n}","map":{"version":3,"names":["API_KEY","fetchWeather","query","url","encodeURIComponent","lat","lon","Error","res","fetch","ok","json","fetchForecast"],"sources":["C:/TRAIN/EASYWEATHER/weather-telegram-miniapp/src/weatherApi.js"],"sourcesContent":["const API_KEY = \"61e36d8b6d0a171b685c5658b023c23a\"; // <-- твой рабочий ключ OpenWeather!\r\n\r\nexport async function fetchWeather(query) {\r\n  let url = '';\r\n  if (typeof query === 'string') {\r\n    url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(query)}&appid=${API_KEY}&lang=ru&units=metric`;\r\n  } else if (typeof query === 'object' && query.lat && query.lon) {\r\n    url = `https://api.openweathermap.org/data/2.5/weather?lat=${query.lat}&lon=${query.lon}&appid=${API_KEY}&lang=ru&units=metric`;\r\n  } else {\r\n    throw new Error('Некорректный запрос');\r\n  }\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error('Город не найден или ошибка координат');\r\n  return await res.json();\r\n}\r\n\r\nexport async function fetchForecast(query) {\r\n  let url = '';\r\n  if (typeof query === 'string') {\r\n    url = `https://api.openweathermap.org/data/2.5/forecast?q=${encodeURIComponent(query)}&appid=${API_KEY}&lang=ru&units=metric`;\r\n  } else if (typeof query === 'object' && query.lat && query.lon) {\r\n    url = `https://api.openweathermap.org/data/2.5/forecast?lat=${query.lat}&lon=${query.lon}&appid=${API_KEY}&lang=ru&units=metric`;\r\n  } else {\r\n    throw new Error('Некорректный запрос');\r\n  }\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error('Не удалось получить прогноз');\r\n  return await res.json();\r\n}\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAG,kCAAkC,CAAC,CAAC;;AAEpD,OAAO,eAAeC,YAAYA,CAACC,KAAK,EAAE;EACxC,IAAIC,GAAG,GAAG,EAAE;EACZ,IAAI,OAAOD,KAAK,KAAK,QAAQ,EAAE;IAC7BC,GAAG,GAAG,qDAAqDC,kBAAkB,CAACF,KAAK,CAAC,UAAUF,OAAO,uBAAuB;EAC9H,CAAC,MAAM,IAAI,OAAOE,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACG,GAAG,IAAIH,KAAK,CAACI,GAAG,EAAE;IAC9DH,GAAG,GAAG,uDAAuDD,KAAK,CAACG,GAAG,QAAQH,KAAK,CAACI,GAAG,UAAUN,OAAO,uBAAuB;EACjI,CAAC,MAAM;IACL,MAAM,IAAIO,KAAK,CAAC,qBAAqB,CAAC;EACxC;EACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACN,GAAG,CAAC;EAC5B,IAAI,CAACK,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIH,KAAK,CAAC,sCAAsC,CAAC;EACpE,OAAO,MAAMC,GAAG,CAACG,IAAI,CAAC,CAAC;AACzB;AAEA,OAAO,eAAeC,aAAaA,CAACV,KAAK,EAAE;EACzC,IAAIC,GAAG,GAAG,EAAE;EACZ,IAAI,OAAOD,KAAK,KAAK,QAAQ,EAAE;IAC7BC,GAAG,GAAG,sDAAsDC,kBAAkB,CAACF,KAAK,CAAC,UAAUF,OAAO,uBAAuB;EAC/H,CAAC,MAAM,IAAI,OAAOE,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACG,GAAG,IAAIH,KAAK,CAACI,GAAG,EAAE;IAC9DH,GAAG,GAAG,wDAAwDD,KAAK,CAACG,GAAG,QAAQH,KAAK,CAACI,GAAG,UAAUN,OAAO,uBAAuB;EAClI,CAAC,MAAM;IACL,MAAM,IAAIO,KAAK,CAAC,qBAAqB,CAAC;EACxC;EACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACN,GAAG,CAAC;EAC5B,IAAI,CAACK,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIH,KAAK,CAAC,6BAA6B,CAAC;EAC3D,OAAO,MAAMC,GAAG,CAACG,IAAI,CAAC,CAAC;AACzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}